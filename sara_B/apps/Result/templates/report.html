<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Informe Avaluo Comercial</title>
  <style>
  @page {
    size: A2;
    margin: 0;
  }

    body {
      font-family: 'Segoe UI', sans-serif;
      color: #333;
      background: #f8f8f8;
      padding: 0;
      margin: 0;
    }

    .container {
      max-width: 780px;
      margin: 0 auto;
      padding: 20px;
      background: #fff;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid #ccc;
      padding-bottom: 10px;
    }

    .header img {
      max-height: 50px;
    }

    .titulo-header {
      text-align: center;
      font-weight: bold;
      font-size: 16px;
    }

    .codigo {
      border: 2px solid #38d3df;
      color: #000000;
      font-weight: bold;
      padding: 5px 15px;
      border-radius: 8px;
      font-size: 18px;
    }

    .seccion {
      display: flex;
      margin-top: 20px;
      gap: 20px;
    }

.tabla-datos {
  flex: 1.2;
  border: 1px solid #ccc;
  border-radius: 10px; /* üëà A√±adido */
  overflow: hidden;    
}

.tabla-datos h3 {
  background-color: #bce4e2; 
  color: #333;
  padding: 8px;
  margin: 0;
  font-size: 15px;
  border-top-left-radius: 10px;  
  border-top-right-radius: 10px; 
}


    .tabla-datos table {
      width: 100%;
      border-collapse: collapse;
    }

    .tabla-datos td {
      padding: 6px 8px;
      font-size: 13px;
      border-bottom: 1px solid #ddd;
    }

    .tabla-datos tr:nth-child(even) {
      background-color: #f9f9f9;
    }

    .imagen-vehiculo {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #ccc;
    }

    .imagen-vehiculo img {
      width: 100%;
      max-height: 370px;
      object-fit: cover;
      border-radius: 6px;
    }

    .tabla-descripcion {
      border: 1px solid #ccc;
      margin-top: 20px;
    }

    .tabla-descripcion h3 {
      background-color: #f26522;
      color: #fff;
      padding: 8px;
      margin: 0;
      font-size: 15px;
    }

    .card {
      margin-top: 20px;
      background: #fff;
      padding: 15px;
      border-radius: 10px;
    }

    .card-title {
      background-color: #bce4e2;
      padding: 8px;
      font-weight: bold;
      text-align: center;
      border-radius: 5px;
      margin-bottom: 10px;
    }

    .tabla-descripcion table {
      width: 100%;
      border-collapse: collapse;
    }

    .tabla-vehiculo {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}

.tabla-vehiculo th, .tabla-vehiculo td {
  border-bottom: 1px solid #ddd;
  padding: 6px 8px;
  text-align: left;
}

.tabla-vehiculo tr:nth-child(even) {
  background-color: #f9f9f9;
}

.tabla-vehiculo th {
  font-weight: bold;
  color: #333;
}


    .tabla-descripcion td {
      padding: 6px 8px;
      font-size: 13px;
      border-bottom: 1px solid #ddd;
    }

    .tabla-descripcion tr:nth-child(even) {
      background-color: #f9f9f9;
    }

    .footer {
      text-align: center;
      font-size: 11px;
      margin-top: 30px;
      color: #666;
    }

    .footer strong {
      display: inline-block;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  {% load static %}
  <div class="container">
    <!-- ENCABEZADO -->
    <div class="header">
      <img src="{% static '/Result/img/autosef.png' %}" alt="Logo Autosef" />
      <div class="titulo-header">
        <div>No. 0001</div>
        <div>AVAL√öO COMERCIAL</div>
      </div>
      <div class="codigo">{{request.placa}}</div>
    </div>

    <!-- SECCI√ìN 1: ASPECTOS GENERALES + IMAGEN -->
    <div class="seccion">
      <div class="tabla-datos">
        <h3>Aspectos Generales</h3>
        <table>
          <tr><td><strong>Convenio:</strong></td><td>{{request.id_convenio}}</td></tr>
            <tr><td><strong>Sucursal:</strong></td><td>{{request.id_sucursal}}</td></tr>
            <tr><td><strong>Solicitante:</strong></td><td>{{request.id_empleado}}</td></tr>
            <tr><td><strong>Fecha de Inicio:</strong></td><td>{{request.fecha}}</td></tr>
            <tr><td><strong>Fecha de Fin:</strong></td><td></td></tr>
            <tr><td><strong>Nombres:</strong></td><td>{{ cliente.2.respuesta_texto }}</td></tr>
            <tr><td><strong>Tel√©fono:</strong></td><td>{{cliente.5.respuesta_texto}}</td></tr>
            <tr><td><strong>Direcci√≥n:</strong></td><td>{{cliente.4.respuesta_texto}}</td></tr>
        </table>
      </div>
      <div class="imagen-vehiculo">
        <img src="C:/Users/tetro/OneDrive/Escritorio/S.A.R.A_BACKEND/sara_B/apps/Result/static/Result/img/autosef.png" alt="Veh√≠culo inspeccionado" />
      </div>
    </div>

    <!-- SECCI√ìN 2: DESCRIPCI√ìN DEL ACTIVO -->
    <!-- SECCI√ìN 2: DESCRIPCI√ìN DEL ACTIVO -->
<div class="card">
  <div class="card-title">Datos del Veh√≠culo</div>
  <table class="tabla-vehiculo">
    <tr>
      <th>Placa</th><td>{{request.placa}}</td>
      <th>No. Chasis (VIN)</th><td>{{vehiculo.13}}</td>
      <th>Servicio</th><td>{{vehiculo.16}}</td>
    </tr>
    <tr>
      <th>Tipo Caja</th><td>{{vehiculo.6}}</td>
      <th>No. Serial</th><td>{{vehiculo.14}}</td>
      <th>Color</th><td>{{vehiculo.18}}</td>
    </tr>
    <tr>
      <th>Tipo Pintura</th><td>{{vehiculo.19}}</td>
      <th>No. Motor</th><td>{{vehiculo.15}}</td>
      <th>Tracci√≥n</th><td>{{vehiculo.9}}</td>
    </tr>
    <tr>
      <th>Cilindraje</th><td>{{vehiculo.7}}</td>
      <th>C√≥digo Fasecolda</th><td>{{vehiculo.2}}</td>
      <th>Nacionalidad</th><td>{{vehiculo.12}}</td>
    </tr>
    <tr>
      <th>Modelo</th><td>{{vehiculo.1}}</td>
      <th>C√≥digo Fasec.</th><td>{{vehiculo.2}}</td>
      <th>L√≠nea</th><td>{{vehiculo.4}}</td>
    </tr>
    <tr>
      <th>Marca</th><td>{{vehiculo.11}}</td>
      <th>Clase</th><td>PICKUP DOBLE CAB</td>
      <th>Combustible</th><td>{{vehiculo.8}}</td>
    </tr>
    <tr>
      <th>Kilometraje</th><td>{{vehiculo.20}}</td>
      <th>Aire Acond.</th><td>{{vehiculo.240}}</td>
      <th>RTM</th><td>{{vehiculo.21}}</td>
    </tr>
    <tr>
      <th>SOAT</th><td>{{vehiculo.22}}</td>
      <th>Referencia</th><td>{{vehiculo.5}}</td>
      <th>Puertas</th><td>{{vehiculo.10}}</td>
    </tr>
  </table>
</div>

<div class="card">
  <div class="card-title">Registro RUNT</div>
  <table class="tabla-vehiculo">
    <tr>
      <th>Comparendos Propietario</th><td>{{vehiculo.25}}</td>
      <th>Vehiculo Registrado</th><td>{{vehiculo.26}}</td>
    </tr>
    <tr>
      <th>Propietario Registrado</th><td>{{vehiculo.27}}</td>
      <th>Prenda</th><td>{{vehiculo.28}}</td>
    </tr>
    <tr>
      <th>Embargos</th><td>{{vehiculo.29}}</td>
      <th>Limitaciones de propiedad</th><td>{{vehiculo.30}}</td>
    </tr>
    <tr>
      <th>Garant√≠as mobiliarias</th><td>{{vehiculo.31}}</td>
      <!-- Pendiente de agregar el campo de estado del veh√≠culo en la DATABASE-->
      <th>Estado del veh√≠culo</th><td>{{vehiculo.32}}</td>
    </tr>
    <tr>
      <th>PTD</th><td>{{vehiculo.33}}</td>
      <th>PPD</th><td>{{vehiculo.34}}</td>
    </tr>
    <tr>
      <th>PTH</th><td>{{vehiculo.35}}</td>
      <th>RC ENES</th><td>{{vehiculo.37}}</td>
    </tr>
    <tr>
      <th>PPH</th><td>{{vehiculo.36}}</td>
      <th>Otros</th><td>No</td>
    </tr>
  </table>
</div>  

  <!-- seccion para la barra de progreso dinamica (indicador del peritaje)-->
  <div style="display: flex; align-items: center; margin-left: 30px;">
    <div style="margin-right: 10px;">
      <div style="display: flex; align-items: center;">
        <div style="width: 15px; height: 15px; background-color: #007bff; margin-right: 5px;"></div>
        <div style="color: #007bff;">45%</div> <!-- indicador de cada color en la barra cambiar tambien con el largo del color en la seccion de la barra-->
      </div>
      <div style="display: flex; align-items: center;">
        <div style="width: 15px; height: 15px; background-color: #E07B39; margin-right: 5px;"></div>
        <div style="color: #E07B39;">33%</div>
      </div>
      <div style="display: flex; align-items: center;">
        <div style="width: 15px; height: 15px; background-color: #4A4A4A; margin-right: 5px;"></div>
        <div style="color: #4A4A4A;">22%</div>
      </div>
    </div>
    <!--seccion de la barra de progreso -->
    <div style="width: 650px; height: 20px; background-color: #ddd; border-radius: 5px; display: flex; overflow: hidden;">
      <div style="width: 45%; background-color: #007bff;"></div> <!-- width forma  de hacer mas largo el color dentro de la barra todos los porcentajes al final deben sumar 100-->
      <div style="width: 33%; background-color: #E07B39;"></div>
      <div style="width: 22%; background-color: #4A4A4A;"></div>
    </div>
  </div>

  <!--espacio para colocar el diagrama del tipo de vehiculo pesado, liviano etc (ajustar el ancho u alto segun convenga width o height)-->
  <div style="margin-top: 20px;margin-left: 50px; width: 700px; height: 200px; border: 2px solid #000000;">
    <!-- imagen-->
  </div>


  <!--seccion de informacion en contenedroes individuales pintura, fluidos, llantas, carroceria-->
  <div style="display: flex; gap: 20px; width: 710px; height: 400px; margin-top: 30px; margin-left: 50px;">

    <div style="display: flex; flex-direction: column; gap: 20px;">

      <div style="background: #e6e2e2; width: 320px; height: 100px; border-radius: 10px; border: 2px solid #000000; padding: 5px;">
        <h3 style="margin: 5px 0; text-align: center;">Vida √∫til de las llantas</h3>
        
        <!-- Contenedor horizontal para las llantas -->
        <div style="display: flex; justify-content: space-around; margin-top: 10px;">
          <!-- Llanta Del. Izquierda -->
          <div style="text-align: center;">
            <div style="font-weight: bold; font-size: 11px;">Del. Izq.</div>
            <div style="font-size: 12px;">{{vehiculo.148}}</div> <!---colocar porcentajes dinamicos aca-->
          </div>
          
          <!-- Llanta Del. Derecha -->
          <div style="text-align: center;">
            <div style="font-weight: bold; font-size: 11px;">Del. Der.</div>
            <div style="font-size: 12px;">{{vehiculo.127}}</div> <!---colocar porcentajes dinamicos aca-->
          </div>
          
          <!-- Llanta Tras. Izquierda -->
          <div style="text-align: center;">
            <div style="font-weight: bold; font-size: 11px;">Tras. Izq.</div>
            <div style="font-size: 12px;">{{vehiculo.153}}</div> <!---colocar porcentajes dinamicos aca-->
          </div>
          
          <!-- Llanta Tras. Derecha -->
          <div style="text-align: center;">
            <div style="font-weight: bold; font-size: 11px;">Tras. Der.</div>
            <div style="font-size: 12px;">{{vehiculo.132}}</div> <!---colocar porcentajes dinamicos aca-->
          </div>
        </div>
      </div>

      <!--fluidos-->
      <div style="background: #e6e2e2; width: 320px; height: 100px; border-radius: 10px; border: 2px solid #000000;">
        <h3 style="margin: 10px 50px;">Fuga de fluidos</h3>
        <h5 style="margin-left: 40px;"> 100% </h5>
      </div>

      <!--pintura-->
      <div style="background: #e6e2e2; width: 320px; height: 140px; border-radius: 10px; border: 2px solid #000000;">
        <h3 style="margin: 10px 50px;">Pintura</h3>
        
        <!-- Tabla de estado de pintura datos de prueba (es q no se veia bien en la imagen :v) -->
        <table class="tabla-vehiculo" style="margin: 0 auto; width: 80%; font-size: 12px;">
          <tr>
            <td><strong>Estado general:</strong></td>
            <td>Buena, algunos rayones</td>
          </tr>
          <tr>
            <td><strong>Retoques:</strong></td>
            <td>3 √°reas repintadas</td>
          </tr>
          <tr>
            <td><strong>Brillo:</strong></td>
            <td>85% uniformidad</td>
          </tr>
        </table>
      </div>

    </div>

    <div style="background: #e6e2e2; width: 350px; height: 397px; border-radius: 10px; border: 2px solid #000000;">
      <h3 style="margin: 10px 30px;">Carrocer√≠a - exterior</h3>
      
      <!-- Tabla usando datos de prueba (no reales) -->
      <table class="tabla-vehiculo" style="margin: 10px; width: 95%;">
        <tr>
          <td><strong>Puerta delantera izquierda</strong></td>
          <td>Buen estado</td>
        </tr>
        <tr>
          <td><strong>Puerta delantera derecha</strong></td>
          <td>Ray√≥n leve</td>
        </tr>
        <tr>
          <td><strong>Puerta trasera izquierda</strong></td>
          <td>Buen estado</td>
        </tr>
        <tr>
          <td><strong>Puerta trasera derecha</strong></td>
          <td>Abolladura peque√±a</td>
        </tr>
        <tr>
          <td><strong>Cap√≥</strong></td>
          <td>Buen estado</td>
        </tr>
        <tr>
          <td><strong>Techo</strong></td>
          <td>Buen estado</td>
        </tr>
        <tr>
          <td><strong>Parachoques delantero</strong></td>
          <td>Rayones</td>
        </tr>
        <tr>
          <td><strong>Parachoques trasero</strong></td>
          <td>Buen estado</td>
        </tr>
      </table>
    </div>

  </div>

  <div style="background: #e6e2e2; width: 680px; height: auto; border-radius: 10px; border: 2px solid #000000; padding: 10px; margin-top: 20px; margin-left: 50px;">
    <h3 style="margin: 0 0 10px 0; text-align: center;">ESTADO GENERAL</h3>
    
    <table class="tabla-vehiculo" style="width: 100%;">
      <tr>
        <td><strong>Classe</strong></td>
        <td>120%</td>
      </tr>
      <tr>
        <td><strong>Fugier / Judas</strong></td>
        <td>57%</td>
      </tr>
      <tr>
        <td><strong>Identificador</strong></td>
        <td>190%</td>
      </tr>
      <tr>
        <td><strong>Lektor(s)</strong></td>
        <td>79%</td>
      </tr>
      <tr>
        <td><strong>Pistura</strong></td>
        <td>60%</td>
      </tr>
      <tr>
        <td><strong>Tipos(mB)</strong></td>
        <td>50%</td>
      </tr>
      <tr>
        <td><strong>Volvo</strong></td>
        <td>180%</td>
      </tr>
    </table>
  </div>


    <!-- FOOTER -->
    <div class="footer">
      Ver t√©rminos y condiciones del servicio en www.automas.com.co o escanee este c√≥digo QR<br>
      <strong>üöó Un sello de <span style="color:#f26522;">confianza</span> para su veh√≠culo</strong>
    </div>
  </div>
</body>
</html>
